!function(){window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}();var a={IS_FIREFOX:!!navigator.userAgent.match(/firefox/i),IS_IE:!!navigator.userAgent.match(/MSIE/i),FIREFOX_TIMEOUT:50},b=document.currentScript;if(null==b){var c=document.getElementsByTagName("script");b=c[c.length-1]}var d=document.createElement("iframe");b.id&&(d.id=b.id,b.id="mif-script-"+b.id),d.frameBorder=0,d.scrolling="no",d.allowfullscreen="true",d.style.display="block",d.style.webkitBoxSizing="border-box",d.style.mozBoxSizing="border-box",d.style.boxSizing="border-box",d.style.width="100%",d.style.minHeight="2em",d.style.overflow="hidden",b.parentNode.insertBefore(d,b.nextSibling);d.reload;d.reload=function(a,b){null!=a&&d.setAttribute("data-src",a),null==b?d.removeAttribute("data-base"):d.setAttribute("data-base",b),l(d.getAttribute("data-src"))};var e=function(){if(d.contentWindow&&d.contentWindow.document&&d.contentWindow.document.documentElement){var b=d.contentWindow.document.documentElement;d.height=a.IS_IE?b.scrollHeight:b.offsetHeight}},f=function(a){d.contentWindow&&d.contentWindow.document&&d.contentWindow.document.documentElement&&("loading"!=d.contentWindow.document.readyState&&"uninitialized"!=d.contentWindow.document.readyState?a():d.contentWindow.document.addEventListener?d.contentWindow.document.addEventListener("DOMContentLoaded",a):d.contentWindow.document.attachEvent("onreadystatechange",function(){"loading"!=d.contentWindow.document.readyState&&a()}))},g=function(a){var b=a.target||a.srcElement;if("A"===b.nodeName&&b.attributes.href){var c=b.attributes.href.value;if(!c.match(/^javascript:/i)){a.preventDefault?a.preventDefault():a.returnValue=!1;var e=document.createElement("a");switch(e.href=c,b.target){case"_self":d.src=e.href;break;case"_blank":window.open(e.href);break;case"_top":window.top.location=e.href;case"_parent":default:window.parent.location=e.href}}}},h=function(){var a=d.contentWindow.document.documentElement;a.addEventListener?(a.removeEventListener("click",g),a.addEventListener("click",g)):(a.detachEvent("onclick",g),a.attachEvent("onclick",function(){g.apply(a,arguments)}))},i=0,j=function(b,c){var e=d.getAttribute("data-base");if(null!=e&&""!=e){var g='<base href="'+e+'" />';b=b.replace("<head>","<head>"+g)}d.contentWindow.mif_content=d.contentWindow.mif_content||{},delete d.contentWindow.mif_content["body_"+i],i++,d.contentWindow.mif_content["body_"+i]=b,d.style.minHeight=0,d.src='javascript:window["mif_content"]["body_'+i+'"]',d.className=c,d.style.display="inline-block",setTimeout(function(){d.style.display="block"},10),a.IS_FIREFOX||a.IS_IE?setTimeout(function(){f(h)},a.FIREFOX_TIMEOUT):f(h)};j("Loading...","mif-loading");var k=!!b.getAttribute("data-credentials"),l=function(b){var c=new XMLHttpRequest;"withCredentials"in c?c.onreadystatechange=function(){if(4==c.readyState)if(200==c.status){var b=function(){j(c.responseText,"mif-loaded")};a.IS_FIREFOX?setTimeout(b,a.FIREFOX_TIMEOUT):b()}else alert(0==c.status?"Missing access control headers!":"Error loading (XHR)!")}:"undefined"==typeof window.XDomainRequest?(d.src=b,d.style.minHeight=0,c=null):(c=new XDomainRequest,c.onprogress=function(){},c.onload=function(){j(c.responseText,"mif-loaded")},c.onerror=function(){alert("Error loading (XDR)!")}),null!=c&&(j("Loading...","mif-loading"),c.open("GET",b,!0),k&&"withCredentials"in c&&(c.withCredentials=!0),c.send(null))},m=b.getAttribute("data-url");if(null==m){var n=document.createElement("a");n.href=b.src,m=window.location.protocol+"//"+n.hostname,80!=n.port&&(m+=":"+n.port)}d.reload(m,b.getAttribute("data-base")||m),requestAnimationFrame(function o(){e(),requestAnimationFrame(o)})}();
//# sourceMappingURL=magic-iframe.min.map