!function(){window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}();var a={IS_FIREFOX:!!navigator.userAgent.match(/firefox/i),FIREFOX_TIMEOUT:50},b=document.currentScript;if(null==b){var c=document.getElementsByTagName("script");b=c[c.length-1]}var d=document.createElement("iframe");b.id&&(d.id=b.id,b.id="mif-script-"+b.id),d.frameBorder=0,d.scrolling="no",d.allowfullscreen="true",d.style.display="block",d.style.webkitBoxSizing="border-box",d.style.mozBoxSizing="border-box",d.style.boxSizing="border-box",d.style.width="100%",d.style.minHeight="2em",d.style.overflow="hidden",b.parentNode.insertBefore(d,b.nextSibling);d.reload;d.reload=function(a,b){null!=a&&d.setAttribute("data-src",a),null==b?d.removeAttribute("data-base"):d.setAttribute("data-base",b),j(d.getAttribute("data-src"))};var e=function(){d.contentWindow&&d.contentWindow.document&&d.contentWindow.document.documentElement&&(d.height=d.contentWindow.document.documentElement.scrollHeight)},f=function(a){d.contentWindow&&d.contentWindow.document&&d.contentWindow.document.documentElement&&("loading"!=d.contentWindow.document.readyState&&"uninitialized"!=d.contentWindow.document.readyState?a():d.contentWindow.document.addEventListener?d.contentWindow.document.addEventListener("DOMContentLoaded",a):d.contentWindow.document.attachEvent("onreadystatechange",function(){"loading"!=d.contentWindow.document.readyState&&a()}))},g=function(){var a=d.contentWindow.document.documentElement,b=function(a){var b=a.target;if("A"===b.nodeName&&b.attributes.href){var c=b.attributes.href.value;if(!c.match(/^javascript:/i))switch(a.preventDefault(),b.target){case"_self":d.src=c;break;case"_blank":window.open(c);break;case"_top":window.top.location=c;case"_parent":default:window.parent.location=c}}};a.addEventListener?a.addEventListener("click",b):a.attachEvent("onclick",function(){b.call(a)})},h=0,i=function(b,c){var e=d.getAttribute("data-base");if(null!=e&&""!=e){var i='<base href="'+e+'" />';b=b.replace("<head>","<head>"+i)}delete d.contentWindow["mif_content"+h],h++,d.contentWindow["mif_content_"+h]=b,d.style.minHeight=0,d.src='javascript:window["mif_content_'+h+'"]',d.className=c,a.IS_FIREFOX?setTimeout(function(){f(g)},a.FIREFOX_TIMEOUT):f(g)};i("Loading...","mif-loading");var j=function(b){var c=new XMLHttpRequest;"withCredentials"in c?c.onreadystatechange=function(){if(4==c.readyState)if(200==c.status){var b=function(){i(c.responseText,"mif-loaded")};a.IS_FIREFOX?setTimeout(b,a.FIREFOX_TIMEOUT):b()}else alert(0==c.status?"Missing access control headers!":"Error loading (XHR)!")}:"undefined"==typeof window.XDomainRequest?(d.src=b,d.style.minHeight=0,c=null):(c=new XDomainRequest,c.onload=function(){i(c.responseText,"mif-loaded")},c.onerror=function(){alert("Error loading (XDR)!")}),null!=c&&(i("Loading...","mif-loading"),c.open("GET",b,!0),"withCredentials"in c&&(c.withCredentials=!0),c.send(null))},k=b.getAttribute("data-url");if(null==k){var l=document.createElement("a");l.href=b.src,k=window.location.protocol+"//"+l.hostname,80!=l.port&&(k+=":"+l.port)}d.reload(k,b.getAttribute("data-base")||k),requestAnimationFrame(function m(){e(),requestAnimationFrame(m)})}();
//# sourceMappingURL=magic-iframe.min.map