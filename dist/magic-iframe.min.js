!function(){window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}();var a=document.currentScript;if(null==a){var b=document.getElementsByTagName("script");a=b[b.length-1]}var c=document.createElement("iframe");a.id&&(c.id=a.id,a.id="mif-script-"+a.id),c.src="about:blank",c.frameBorder=0,c.scrolling="no",c.allowfullscreen="true",c.style.display="block",c.style.webkitBoxSizing="border-box",c.style.mozBoxSizing="border-box",c.style.boxSizing="border-box",c.style.width="100%",c.style.minHeight="2em",c.style.overflow="hidden",a.parentNode.insertBefore(c,a.nextSibling),c.contentWindow.loadingContents="Loading...",c.src='javascript:window["loadingContents"]';c.reload;c.reload=function(a,b){null!=a&&c.setAttribute("data-src",a),null==b?c.removeAttribute("data-base"):c.setAttribute("data-base",b),f(c.getAttribute("data-src"))};var d=function(){return c.contentWindow?void(c.height=c.contentWindow.document.documentElement.offsetHeight):!1};requestAnimationFrame(function i(){d()!==!1&&requestAnimationFrame(i)});var e=function(a,b){var d=c.getAttribute("data-base");if(null!=d&&""!=d){var e='<base href="'+d+'" />';a=a.replace("<head>","<head>"+e)}c.contentWindow.contents=a,c.style.minHeight=0,c.src="",c.src='javascript:window["contents"]',c.className=b},f=function(a){var b=new XMLHttpRequest;"withCredentials"in b?(b.withCredentials=!0,b.onreadystatechange=function(){4==b.readyState&&(200==b.status?e(b.responseText,"mif-loaded"):alert(0==b.status?"Missing access control headers!":"Error loading (XHR)!"))}):"undefined"==typeof window.XDomainRequest?(c.src=a,c.style.minHeight=0,b=null):(b=new XDomainRequest,b.onload=function(){e(b.responseText,"mif-loaded")},b.onerror=function(){alert("Error loading (XDR)!")}),null!=b&&(e("Loading...","mif-loading"),b.open("GET",a,!0),b.send())},g=a.getAttribute("data-url");if(null==g){var h=document.createElement("a");h.href=a.src,g=window.location.protocol+"//"+h.hostname,80!=h.port&&(g+=":"+h.port)}c.reload(g,a.getAttribute("data-base")||g)}();
//# sourceMappingURL=magic-iframe.min.map